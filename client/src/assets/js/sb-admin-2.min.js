(function() {
    "use strict";
  
    // Toggle the side navigation
    document.querySelectorAll("#sidebarToggle, #sidebarToggleTop").forEach(function(element) {
      element.addEventListener('click', function(e) {
        document.body.classList.toggle("sidebar-toggled");
        document.querySelector(".sidebar").classList.toggle("toggled");
        if (document.querySelector(".sidebar").classList.contains("toggled")) {
          document.querySelectorAll('.sidebar .collapse').forEach(function(collapse) {
            collapse.classList.remove('show');
          });
        }
      });
    });
  
    // Close any open menu accordions when window is resized below 768px
    window.addEventListener('resize', function() {
      if (window.innerWidth < 768) {
        document.querySelectorAll('.sidebar .collapse.show').forEach(function(collapse) {
          collapse.classList.remove('show');
        });
      }
      
      // Toggle the side navigation when window is resized below 480px
      if (window.innerWidth < 480 && !document.querySelector(".sidebar").classList.contains("toggled")) {
        document.body.classList.add("sidebar-toggled");
        document.querySelector(".sidebar").classList.add("toggled");
        document.querySelectorAll('.sidebar .collapse.show').forEach(function(collapse) {
          collapse.classList.remove('show');
        });
      }
    });
  
    // Prevent the content wrapper from scrolling when the fixed side navigation is hovered over
    document.querySelector('body.fixed-nav .sidebar').addEventListener('wheel', function(e) {
      if (window.innerWidth > 768) {
        e.preventDefault();
        var delta = e.deltaY || -e.detail;
        this.scrollTop += (delta < 0 ? 1 : -1) * 30;
      }
    });
  
    // Scroll to top button appear
    window.addEventListener('scroll', function() {
      var scrollDistance = window.pageYOffset || document.documentElement.scrollTop;
      if (scrollDistance > 100) {
        document.querySelector('.scroll-to-top').style.display = 'block';
      } else {
        document.querySelector('.scroll-to-top').style.display = 'none';
      }
    });
  
    // Smooth scrolling using native JavaScript scroll behavior
    document.querySelectorAll('a.scroll-to-top').forEach(function(anchor) {
      anchor.addEventListener('click', function(e) {
        e.preventDefault();
        var targetId = anchor.getAttribute('href').substring(1);
        var targetElement = document.getElementById(targetId);
        if (targetElement) {
          targetElement.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });
  
  })();
  